{"version":3,"sources":["login.js"],"names":[],"mappings":"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","file":"login-compiled.js","sourcesContent":["define(['jquery'],function($){\n//退出登录事件\n    $(document).on('click',\".logout\", function(event) {\n        event.preventDefault();\n        $.ajax({\n            url: '/Hotel/loginOut.action',\n            type: 'GET',\n            dataType: 'json',\n            data: {},\n            success:function(){\n                location.reload();\n            }\n        })\n    });\n\n\n//点击关闭按钮事件\n    $(document).on('click', '.close',function() {\n        $('.hidden').css({\n            \"visibility\":\"hidden\"\n        });\n        $('.box').removeClass('box-login-active').removeClass('box-register-active');\n        $('.box input').val('');\n        $('.error').text('');\n    });\n\n//点击登录按钮事件\n    $(document).on('click','.login-button',login);\n    function login (){\n        console.log(1);\n        $('.hidden').css({\n            \"visibility\":\"visible\"\n        });\n        $('.box').addClass('box-login-active').removeClass('box-register-active');\n        $('.box-hotel-register').css({\n            \"font-size\":\".16rem\",\n            \"color\":\"#7f1f59\",\n            \"margin-top\":\".24rem\"\n        });\n        $('.box-hotel-login').css({\n            \"font-size\":\".2rem\",\n            \"color\":\"#000\",\n            \"margin-top\":\".21rem\"\n        });\n        $('.login-box').css({\n            \"display\":\"block\"\n        });\n        $('.register-box').css({\n            \"display\":\"none\"\n        });\n    }\n\n//点击注册按钮事件\n    $(document).on('click','.register-button', register);\n    function register(){\n        $('.hidden').css({\n            \"visibility\":\"visible\"\n        });\n        $('.box').addClass('box-register-active').removeClass('box-login-active');\n        $('.box-hotel-login').css({\n            \"font-size\":\".16rem\",\n            \"color\":\"#7f1f59\",\n            \"margin-top\":\".24rem\"\n        });\n        $('.box-hotel-register').css({\n            \"font-size\":\".2rem\",\n            \"color\":\"#000\",\n            \"margin-top\":\".21rem\"\n        });\n        $('.register-box').css({\n            \"display\":\"block\"\n        });\n        $('.login-box').css({\n            \"display\":\"none\"\n        });\n    }\n\n//登录事件\n    $(document).on('click','#box_up',function() {\n        var $username = encodeURI($(\"#username\").val());\n        var $password = $(\"#password\").val();\n        $.ajax({\n            \"type\":\"POST\",\n            \"url\":\"/Hotel/login.action\",\n            \"dataType\":\"json\",\n            \"data\":{\"username\":$username,\"password\":$password},\n            \"contentType\":\"application/x-www-form-urlencoded; charset=UTF-8\",\n            \"success\":function(data){\n                var data = $.parseJSON(data.content);\n                if(data[0].status==\"1\"){\n                    $('#box_up').before('<p class=\"login-success\">登陆成功！</p>');\n                    setTimeout(function(){\n                        location.reload();\n                    },500)\n                }\n                else{\n                    $('#box_up').before('<p class=\"login-error\">用户名或者密码错误！</p>');\n                }\n            },\n            \"error\":function(){\n                alert(\"网络不畅，请稍后再试！\");\n            }\n        })\n    });\n\n//注册事件\n    $(document).on('click','#box_up_r', function() {\n        $.ajax({\n            \"type\":\"GET\",\n            \"url\":\"/Hotel/register.action\",\n            \"dataType\":\"json\",\n            \"contentType\":\"charset=UTF-8\",\n            \"data\":{\"username\":$register_username,\"password\":$register_password},\n            \"beforeSend\":function(){\n                if($('.error').text()!=\"\"||$register_username==\"\"||$register_password==\"\"||$register_password_confirm==\"\"){\n                    return false;\n                }\n            },\n            \"success\":function(data){\n                var data = $.parseJSON(data.content);\n                console.log(data[0].username);\n                $('#box_up_r').before('<p class=\"login-success\">注册成功！</p>');\n                setTimeout(function(){\n                    location.reload();\n                },500)\n            },\n            \"error\":function(){\n                alert(\"网络不畅，请稍后再试！\");\n            }\n        })\n    });\n\n//检测用户名是否被占用和是否符合规范\n    $(document).on('blur','#register_username',  function(event) {\n        event.preventDefault();\n        var $username = $(this).val();\n        if($username==\"\"){\n            $('.error-username').text('用户名不能为空');\n        }\n        else if(!$reg1.test($username)) {\n            $('.error-username').text('用户名不合规范');\n        }\n        else{\n            $register_username = encodeURI($username);\n            $('.error-username').text('');\n            $.ajax({\n                \"url\": '/Hotel/check.action',\n                \"type\": 'GET',\n                \"dataType\": 'json',\n                \"data\": {\"username\": $register_username},\n                \"success\":function(data){\n                    var data = $.parseJSON(data.content);\n                    if(data[0].status==\"0\"){\n                        $('.error-username').text('用户名已被占用');\n                    }\n                    else if(data[0].status==\"1\"){\n                        $('.error-username').text('');\n                    }\n                }\n            })\n        }\n    });\n\n//检测密码是否符合规范\n    $(document).on('blur', '#register_password',function(event) {\n        event.preventDefault();\n        var $password = $(this).val();\n        if($password==\"\"){\n            $('.error-password').text('密码不能为空');\n        }\n        else if(!$reg2.test($password)){\n            $('.error-password').text('密码不合规范');\n        }\n        else{\n            $('.error-password').text('');\n            $register_password = $password;\n        }\n    });\n\n//检测两次密码输入是否一致\n    $(document).on('blur','#register_password_confirm', function(event) {\n        event.preventDefault();\n        var $password = $(this).val();\n        if($register_password_confirm!=$register_password){\n            $('.error-password-confirm').text('两个密码不一致');\n        }\n        else{\n            $('.error-password-confirm').text('');\n            $register_password_confirm = $password;\n        }\n    });\n})\n\n"]}