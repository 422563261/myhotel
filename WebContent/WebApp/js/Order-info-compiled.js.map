{"version":3,"sources":["Order-info.js"],"names":[],"mappings":"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","file":"Order-info-compiled.js","sourcesContent":["define(['jquery','login'],function($){\n\treturn{\n\t\torderInfo:function(){\n            var url = (location.href).toString();\n            if(url.indexOf(\"ID\")!=-1){\n                var $id = url.split(\"ID=\");\n            }\n            $.ajax({\n                url:'/Hotel/WebApp/Order-header.html',\n                type:\"POST\",\n                dataType:\"html\",\n                success:function(data){\n                    $(\".container\").before(data);\n                }\n            });\n            $.ajax({\n                url:'/Hotel/WebApp/Order-footer.html',\n                type:\"POST\",\n                dataType:\"html\",\n                success:function(data){\n                    $(\".container\").after(data);\n                }\n            });\n            //对于用户是否登录的检测请求\n            $.ajax({\n                \"url\": '/Hotel/WebApp/refresh.action',\n                \"type\": 'POST',\n                \"dataType\": 'json',\n                \"data\": {},\n                \"success\":function(data){\n                    var data = $.parseJSON(data.content);\n                    if(data[0].status==\"1\"){\n                        console.log(data[1].username);\n                        $('.register').remove();\n                        $('.login').remove();\n                        $('.logo-bar').after(\"<li class='user'><a href='#'>\"+data[1].username+\"</a></li>\");\n                        $(\".logo-bar\").after(\"<li class='logout'><a href='#'>退出</a></li>\");\n                    }\n                    else{\n                    \talert(\"请登录之后操作\");\n                    }\n                },\n                \"error\":function(){\n                    console.log(\"网络错误！\");\n                }\n            });\n\n            //加载订单信息\n            $.ajax({\n                url:\"\",\n                type:\"POST\",\n                \"dataType\":\"json\",\n                data:{\"ID\":$id},\n                success:function(data){\n                    var data = $.parseJSON(data.content);\n                    console.log(data);\n                }\n            })\n\n            //取消订单\n            $(\"#pay_cancel\").on('click',function(){\n                $.ajax({\n                    url:\"\",\n                    type:\"POST\",\n                    \"dataType\":\"json\",\n                    data:{\"ID\":$id},\n                    success:function(data){\n                        var data = $.parseJSON(data.content);\n                        console.log(data);\n                    }\n                })\n            })\n\n\n            $(\"#pay\").on('click',function(){\n                var $price = $(\"#money_left\").text()\n                $.ajax({\n                    url:\"\",\n                    type:\"POST\",\n                    \"dataType\":\"json\",\n                    data:{\"ID\":$id,\"price\":$price},\n                    success:function(data){\n                        var data = $.parseJSON(data.content);\n                        console.log(data);\n                        $(\".error\").remove();\n                        if(data[0].status==0){\n                            $(\"#pay\").after(\"<span class='error'>您的余额不足</span>\")\n                        }\n                        else{\n\n                        }\n                    }\n                })\n            })\n\t\t}\n\t}\n})"]}